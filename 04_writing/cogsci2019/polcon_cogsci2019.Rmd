---
title: "Children's understanding of simple polite markers"
bibliography: polcon_cogsci2019.bib
csl: apa6.csl
document-params: "10pt, letterpaper"

author-information: > 
    \author{{\large \bf } \\ \texttt{} \\  \\}

abstract: 
    "Here we show that, with an improvement over the age of 2 to 4 years, English-speaking preschool children understand implications of simple polite markers: They understand that it is more *polite* and *nicer* to say \"please\" and \"can you ~\" when making requests, and that the use of these polite markers indicates that the speaker is more socially likeable and is more likely to gain compliance from their conversational partners."
    
keywords:
    "Politeness, pragmatic development, online experiment"
    
output: cogsci2016::cogsci_paper
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.width=3, fig.height=3, fig.crop = F, fig.pos = "tb", fig.path='figs/',
                      echo=F, warning=F, cache=F, message=F, sanitize = T)

image_path <- "04_writing/cogsci2019/figs/"

```

```{r, libraries}
library(png)
library(grid)
library(ggplot2)
library(xtable)
library(tidyverse)
library(lme4)
library(brms)
library(ggthemes)

library(here)
library(langcog)
```

```{r load_data}
d <- read_csv(here::here("03_analysis/data/processed_data/polcon_all_data.csv")) %>%
  filter(!is.na(gender) & gender != "na")
```


# Introduction

As adults, we use polite speech all the time.

Children produce polite speech early on.

Less work has looked at children's comprehension of polite speech.

For example, @nippold1982 looked at...

In this current work, we sought to test what 2- to 4-year-old children understand about polite speech. Specifically, we asked: (1) whether children can reason about which speaker is being more "polite" or "rude" (or "nice" or "mean") based on their use of polite markers; (2) whether they understand possible social consequences of being polite or impolite; and (3) how this reasoning may change across development.

Across three Experiments, we presented stories about speakers who decided to speak politely (e.g., "Please pour me more water") or impolitely (e.g., "Pour me more water") and asked child participants to compare between the two speakers. In Experiment 1 and 2, we found that 3- to 4-year-old children were able to reason that a speaker who used polite markers was more polite and nicer than a speaker who did not, and that the polite speaker is more socially likeable and is more likely to gain what they want, given facial expression and prosodic cues. In Experiment 3, we recruited two samples (one from a local nursery school and the other from an online platform) and found that children were able to reason correctly about polite speech even when the supportive facial and prosodic cues were removed, and this reasoning improves from 2 to 4 years of age.

# Experiment 1

In Experiment 1, we tested whether 3- to 4-year-old children were able to understand implications of using simple polite markers, based on not only linguistic cues of interest (whether the speaker says "please," "can you"), but also extra cues that they might need (facial expressions and prosodic cues). Thus, we asked children to compare between speakers who used polite markers with a kind voice and facial expression versus speakers who did not use polite markers and spoke with a mean, angry voice and facial expression.

## Methods

### Participants

```{r participant_exclusion_v1_2_3}
# exclusion criteria applied to expt 1.
subj_v1_too_few_trials <- d %>% 
  filter(expt == "v1", trial == "6", is.na(correct)) %>% 
  distinct(subid)

subj_v1_too_few_trials_count <- subj_v1_too_few_trials %>% 
  count(subid)

# exclusion criteria applied to expt 2.
subj_v2_failed_practice <- filter(d, (expt == "v2" & trial == "0" & correct == "0")) %>% 
  distinct(subid)

subj_v2_failed_practice_count <- subj_v2_failed_practice %>%
  count(.)

subj_v2_too_few_trials <- d %>% 
  filter(expt == "v2") %>% 
  count(subid) %>%
  filter(n < 6)

subj_v2_too_few_trials_count <- subj_v2_too_few_trials %>% 
  count(.)

# exclusion criteria applied to expt 3 in-person sample.
subj_v3_failed_practice <- filter(d, (expt == "v3" & trial == "0" & correct == "0")) %>% 
  distinct(subid)

subj_v3_failed_practice_count <- subj_v3_failed_practice %>%
  count(.)

subj_v3_too_few_trials <- d %>% 
  filter(expt == "v3") %>% 
  distinct(subid, trial, .keep_all=T) %>%
  count(subid) %>%
  filter(n < 6)

subj_v3_too_few_trials_count <- subj_v3_too_few_trials %>% 
  count(.)

# filter out participant id from above, and also drop trial 0 (practice)
d <- d %>% 
  filter(!subid %in% subj_v1_too_few_trials$subid) %>%
  filter(!subid %in% subj_v2_failed_practice$subid) %>%
  filter(!subid %in% subj_v2_too_few_trials$subid) %>%
  filter(!subid %in% subj_v3_failed_practice$subid) %>%
  filter(!subid %in% subj_v3_too_few_trials$subid) %>%
  filter(trial != "0")
```

```{r participant_exclusion_v3_online}
# exclusion from online sample was computed separately before preprocessing
v3_online_excl <- read_csv(here::here("03_analysis/data/processed_data/v3_drop.csv")) %>%
  count(reason_for_drop)

v3_online_excl_few_trials <- v3_online_excl %>% 
  filter(reason_for_drop == "too few trials")

v3_online_excl_failed_practice <- v3_online_excl %>% 
  filter(reason_for_drop == "failed practice")
```

```{r participant_info}
subj <- d %>% 
  count(expt, age_fct, subid) %>%
  group_by(expt, age_fct) %>%
  summarise(n=n())

subj_female <- d %>% 
  count(expt, age_fct, gender, subid) %>%
  group_by(expt, age_fct, gender) %>%
  summarise(n=n()) %>%
  filter(gender == "F")

ms_age <- d %>% 
  group_by(expt, age_fct) %>%
  summarise(m = mean(age, na.rm = T),
            sd_age = sd(age, na.rm = T)) %>% 
  mutate_all(round, 2)

# participant n
subj_v1_3y <- subj %>% filter(expt == "v1", age_fct == "3")
subj_v1_4y <- subj %>% filter(expt == "v1", age_fct == "4")
subj_v2_3y <- subj %>% filter(expt == "v2", age_fct == "3")
subj_v2_4y <- subj %>% filter(expt == "v2", age_fct == "4")
subj_v3_3y <- subj %>% filter(expt == "v3", age_fct == "3")
subj_v3_4y <- subj %>% filter(expt == "v3", age_fct == "4")
subj_v3_3y <- subj %>% filter(expt == "v3", age_fct == "3")
subj_v3_4y <- subj %>% filter(expt == "v3", age_fct == "4")
subj_v3_online_2y <- subj %>% filter(expt == "v3_lookit", age_fct == "2")
subj_v3_online_3y <- subj %>% filter(expt == "v3_lookit", age_fct == "3")
subj_v3_online_4y <- subj %>% filter(expt == "v3_lookit", age_fct == "4")


# female n
subj_f_v1_3y <- subj_female %>% filter(expt == "v1", age_fct == "3")
subj_f_v1_4y <- subj_female %>% filter(expt == "v1", age_fct == "4")
subj_f_v2_3y <- subj_female %>% filter(expt == "v2", age_fct == "3")
subj_f_v2_4y <- subj_female %>% filter(expt == "v2", age_fct == "4")
subj_f_v3_3y <- subj_female %>% filter(expt == "v3", age_fct == "3")
subj_f_v3_4y <- subj_female %>% filter(expt == "v3", age_fct == "4")
subj_f_v3_3y <- subj_female %>% filter(expt == "v3", age_fct == "3")
subj_f_v3_4y <- subj_female %>% filter(expt == "v3", age_fct == "4")
subj_f_v3_online_2y <- subj_female %>% filter(expt == "v3_lookit", age_fct == "2")
subj_f_v3_online_3y <- subj_female %>% filter(expt == "v3_lookit", age_fct == "3")
subj_f_v3_online_4y <- subj_female %>% filter(expt == "v3_lookit", age_fct == "4")

# age
age_v1_3y <- ms_age %>% filter(expt == "v1", age_fct == "3")
age_v1_4y <- ms_age %>% filter(expt == "v1", age_fct == "4")
age_v2_3y <- ms_age %>% filter(expt == "v2", age_fct == "3")
age_v2_4y <- ms_age %>% filter(expt == "v2", age_fct == "4")
age_v3_3y <- ms_age %>% filter(expt == "v3", age_fct == "3")
age_v3_4y <- ms_age %>% filter(expt == "v3", age_fct == "4")
age_v3_3y <- ms_age %>% filter(expt == "v3", age_fct == "3")
age_v3_4y <- ms_age %>% filter(expt == "v3", age_fct == "4")
age_v3_online_2y <- ms_age %>% filter(expt == "v3_lookit", age_fct == "2")
age_v3_online_3y <- ms_age %>% filter(expt == "v3_lookit", age_fct == "3")
age_v3_online_4y <- ms_age %>% filter(expt == "v3_lookit", age_fct == "4")

```

3-year-old  ($n=$ `r subj_v1_3y$n`; `r subj_f_v1_3y$n` F, $M_{age}$ = `r age_v1_3y$m` years, $SD_{age}$ = `r age_v1_3y$sd_age`) and 4-year-old children ($n=$ `r subj_v1_4y$n`; `r subj_f_v1_4y$n` F, $M_{age}$ = `r age_v1_4y$m` years, $SD_{age}$ = `r age_v1_4y$sd_age`) were recruited from a local preschool. 
An additional 3 children were tested but excluded due to failure on the practice questions ($n=$ 2) or completion of fewer than half of the test trials ($n=$ `r subj_v1_too_few_trials_count$n`).

### Stimuli



### Procedure

The experimenter presented to the child a storybook with a total of thirteen stories about different characters. In the *practice* phase, the child heard a story with one clearly mean character (*Drew kicked Carol*) and one clearly nice character (*Graham gave Carol a gift*). After a reminder of what each character did, the experimenter asked the participant: *Which one was being meaner?* and *Which one was being nicer?* If the child answered the question wrong the first time, the experimenter read the story one more time, saying, "Let's think about the story one more time." Only children who correctly answered both questions in the first or second attempt were included in the analyses.

In the *test* phase, the child heard twelve stories, in each of which they saw one speaker who decided to speak politely (*Jean wanted more water in her cup. Jean said to Fred, "Please pour me more water"*) and another speaker who spoke impolitely (*Suzy also wanted more water in her cup. Suzy said to Fred, "Pour me more water."*). After a reminder about what each speaker said, the child was asked a total of two questions. For the first question, the experimenter asked one out of four possible questions: "Which one was being more polite [more rude/nicer/meaner]?" For the second question, the experimenter either asked about play partner choice (*Which one would you rather play with?*) or likelihood of compliance (e.g., *Which one will Fred give water to?*). The order of story types and question types was counterbalanced.

## Results and Discussion

```{r}
# set up data before visualization and ana
breaks = c(2, 2.5, 3, 3.5, 4, 4.5, 5)
d <- d %>%
  mutate(age_halfbin = cut(age, breaks),
         age_halfbin = as.numeric(as.character(fct_recode(age_halfbin,
                                  "2" = "(2,2.5]",
                                  "2.5" = "(2.5,3]",
                                  "3" = "(3,3.5]",
                                  "3.5" = "(3.5,4]",
                                  "4" = "(4,4.5]",
                                  "4.5" = "(4.5,5]"
                                  )))) %>%
  mutate(request_type = fct_relevel(request_type, "please", "can you~")) %>%
  mutate(question_type = fct_relevel(question_type, "polite", "rude", "nice", "mean", "play", "comp"),
         question_type = fct_recode(question_type,
                                    "Which one was \nmore polite?" = "polite",
                                    "Which one was \nmore rude?" = "rude",
                                    "Which one was \nnicer?" = "nice",
                                    "Which one was \nmeaner?" = "mean",
                                    "Which one would you \nrather play with?" = "play",
                                    "Which one [will get \nwhat they want]?" = "comp"
                                    )) %>%
  mutate(expt = fct_recode(expt, 
                           "1" = "v1",
                           "2" = "v2", 
                           "3 (nursery school)" = "v3",
                           "3 (online)" = "v3_lookit"))
  
```


```{r v1_results}
# load(here("03_analysis/data/brm_v1.Rds"))
```

```{r fig_results}
d_plot <- d %>%
  group_by(expt, age_fct, request_type, question_type, subid) %>%
  summarise(correct = mean(correct, na.rm = T)) %>%
  group_by(expt, age_fct, request_type, question_type) %>%
  multi_boot_standard(col = "correct", na.rm = T) %>%
  rename(correct = mean)

p_all <- ggplot(data=d_plot,
       aes(x=age_fct, y=correct, col=expt, group=expt)) +
  geom_line() +
  geom_pointrange(aes(ymin = ci_lower, ymax = ci_upper),
                  position = position_dodge(width = .1)) +
  facet_grid(question_type~request_type, scales = "fixed", space = "fixed") +
  theme_few() +
  ylab("Proportion correct") + 
  xlab("Age (years)") +
  scale_color_ptol() +
  geom_hline(yintercept =.5, lty=2) +
  ylim(c(0,1)) +
  theme(strip.text.x = element_text(angle=0),
        legend.position="top") +
  labs(color="Experiment")

ggsave(p_all, file=here::here("04_writing/cogsci2019/figs/fig_results.png"), width=6, height=10)
```

```{r fig_results_placement, fig.env = "figure*", fig.pos = "h", fig.width=6, fig.height=8, fig.align = "center", set.cap.width=T, num.cols.cap=2, fig.cap = "Proportion of correct responses to questions comparing between a speaker who used a polite marker (indicated at the top of each column) versus a speaker who did not. Data are binned into one-year age groups for visualization purposes (all analyses are conducted on continuous data). Different colors represent responses from different Experiments (see legend at the top). Rows represent different questions asked (indicated on the right). Dashed line represents chance level at 50\\% (i.e., if participant were guessing at random)."}
png::readPNG(here::here(image_path, "fig_results.png")) %>%
  grid::grid.raster()
```

In sum, in Experiment 1, we confirmed that children were able to use some combination of cues (markers, prosody and facial expressions) to politeness to reason about which speaker is nicer/meaner or more polite/rude, and which speaker is more likely to be a better play partner and to have their needs met. But in this initial task, the experimenter produced the utterances and was not blind to the condition, which could have biased her presentation of the stories and therefore participants' performances. In Experiment 2, we presented pre-recorded voiceovers for speakers' utterances to address this concern.

# Experiment 2

## Methods

### Participants

### Stimuli

### Procedure

## Results and Discussion

# Experiment 3

## Methods

### Participants

### Stimuli

### Procedure

## Results and Discussion

# General Discussion

# References 

```{r references}
# References will be generated automatically by Pandoc and included here.
# The following code is some latex to format the bibliography. Do not remove it.
```

\setlength{\parindent}{-0.1in} 
\setlength{\leftskip}{0.125in}
\noindent
