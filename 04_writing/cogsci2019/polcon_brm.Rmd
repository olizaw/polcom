---
title: "Children's understanding of simple polite markers"
bibliography: polcon_cogsci2019.bib
csl: apa6.csl
document-params: "10pt, letterpaper"

author-information: > 
    \author{{\large \bf } \\ \texttt{} \\  \\}

abstract: 
    "Here we show that, with an improvement over the age of 2 to 4 years, English-speaking preschool children understand implications of simple polite markers: They understand that it is more *polite* and *nicer* to say \"please\" and \"can you ~\" when making requests, and that the use of these polite markers indicates that the speaker is more socially likeable and is more likely to gain compliance from their conversational partners."
    
keywords:
    "Politeness, pragmatic development, online experiment"
    
output: cogsci2016::cogsci_paper
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.width=3, fig.height=3, fig.crop = F, fig.pos = "tb", fig.path='figs/',
                      echo=F, warning=F, cache=F, message=F, sanitize = T)
```

```{r, libraries}
library(png)
library(grid)
library(ggplot2)
library(xtable)
library(tidyverse)
library(lme4)
library(brms)

library(here)
library(langcog)
```

```{r load_data}
d <- read_csv(here::here("03_analysis/data/processed_data/polcon_all_data.csv")) %>%
  filter(!is.na(gender) & gender != "na")
```


# Introduction

As adults, we use polite speech all the time.

Children produce polite speech early on.

Less work has looked at children's comprehension of polite speech.

For example, @nippold1982 looked at...

In this current work, we sought to test what 2- to 4-year-old children understand about polite speech. Specifically, we asked: (1) whether children can reason about which speaker is being more "polite" or "rude" (or "nice" or "mean") based on their use of polite markers; (2) whether they understand possible social consequences of being polite or impolite; and (3) how this reasoning may change across development.

Across three Experiments, we presented stories about speakers who decided to speak politely (e.g., "Please pour me more water") or impolitely (e.g., "Pour me more water") and asked child participants to compare between the two speakers. In Experiment 1 and 2, we found that 3- to 4-year-old children were able to reason that a speaker who used polite markers was more polite and nicer than a speaker who did not, and that the polite speaker is more socially likeable and is more likely to gain what they want, given facial expression and prosodic cues. In Experiment 3, we recruited two samples (one from a local nursery school and the other from an online platform) and found that children were able to reason correctly about polite speech even when the supportive facial and prosodic cues were removed, and this reasoning improves from 2 to 4 years of age.

# Experiment 1

In Experiment 1, we tested whether 3- to 4-year-old children were able to understand implications of using simple polite markers, based on not only linguistic cues of interest (whether the speaker says "please," "can you"), but also extra cues that they might need (facial expressions and prosodic cues). Thus, we asked children to compare between speakers who used polite markers with a kind voice and facial expression versus speakers who did not use polite markers and spoke with a mean, angry voice and facial expression.

## Methods

### Participants

```{r participant_exclusion_v1_2_3}
# exclusion criteria applied to expt 1.
subj_v1_too_few_trials <- d %>% 
  filter(expt == "v1", trial == "6", is.na(correct)) %>% 
  distinct(subid)

subj_v1_too_few_trials_count <- subj_v1_too_few_trials %>% 
  count(subid)

# exclusion criteria applied to expt 2.
subj_v2_failed_practice <- filter(d, (expt == "v2" & trial == "0" & correct == "0")) %>% 
  distinct(subid)

subj_v2_failed_practice_count <- subj_v2_failed_practice %>%
  count(.)

subj_v2_too_few_trials <- d %>% 
  filter(expt == "v2") %>% 
  count(subid) %>%
  filter(n < 6)

subj_v2_too_few_trials_count <- subj_v2_too_few_trials %>% 
  count(.)

# exclusion criteria applied to expt 3 in-person sample.
subj_v3_failed_practice <- filter(d, (expt == "v3" & trial == "0" & correct == "0")) %>% 
  distinct(subid)

subj_v3_failed_practice_count <- subj_v3_failed_practice %>%
  count(.)

subj_v3_too_few_trials <- d %>% 
  filter(expt == "v3") %>% 
  distinct(subid, trial, .keep_all=T) %>%
  count(subid) %>%
  filter(n < 6)

subj_v3_too_few_trials_count <- subj_v3_too_few_trials %>% 
  count(.)

# filter out participant id from above
d <- d %>% 
  filter(!subid %in% subj_v1_too_few_trials$subid) %>%
  filter(!subid %in% subj_v2_failed_practice$subid) %>%
  filter(!subid %in% subj_v2_too_few_trials$subid) %>%
  filter(!subid %in% subj_v3_failed_practice$subid) %>%
  filter(!subid %in% subj_v3_too_few_trials$subid)
```

```{r participant_exclusion_v3_online}
# exclusion from online sample was computed separately before preprocessing
v3_online_excl <- read_csv(here::here("03_analysis/data/processed_data/v3_drop.csv")) %>%
  count(reason_for_drop)

v3_online_excl_few_trials <- v3_online_excl %>% 
  filter(reason_for_drop == "too few trials")

v3_online_excl_failed_practice <- v3_online_excl %>% 
  filter(reason_for_drop == "failed practice")
```

```{r participant_info}
subj <- d %>% 
  count(expt, age_fct, subid) %>%
  group_by(expt, age_fct) %>%
  summarise(n=n())

subj_female <- d %>% 
  count(expt, age_fct, gender, subid) %>%
  group_by(expt, age_fct, gender) %>%
  summarise(n=n()) %>%
  filter(gender == "F")

ms_age <- d %>% 
  group_by(expt, age_fct) %>%
  summarise(m = mean(age, na.rm = T),
            sd_age = sd(age, na.rm = T)) %>% 
  mutate_all(round, 2)

# participant n
subj_v1_3y <- subj %>% filter(expt == "v1", age_fct == "3")
subj_v1_4y <- subj %>% filter(expt == "v1", age_fct == "4")
subj_v2_3y <- subj %>% filter(expt == "v2", age_fct == "3")
subj_v2_4y <- subj %>% filter(expt == "v2", age_fct == "4")
subj_v3_3y <- subj %>% filter(expt == "v3", age_fct == "3")
subj_v3_4y <- subj %>% filter(expt == "v3", age_fct == "4")
subj_v3_3y <- subj %>% filter(expt == "v3", age_fct == "3")
subj_v3_4y <- subj %>% filter(expt == "v3", age_fct == "4")
subj_v3_online_2y <- subj %>% filter(expt == "v3_lookit", age_fct == "2")
subj_v3_online_3y <- subj %>% filter(expt == "v3_lookit", age_fct == "3")
subj_v3_online_4y <- subj %>% filter(expt == "v3_lookit", age_fct == "4")


# female n
subj_f_v1_3y <- subj_female %>% filter(expt == "v1", age_fct == "3")
subj_f_v1_4y <- subj_female %>% filter(expt == "v1", age_fct == "4")
subj_f_v2_3y <- subj_female %>% filter(expt == "v2", age_fct == "3")
subj_f_v2_4y <- subj_female %>% filter(expt == "v2", age_fct == "4")
subj_f_v3_3y <- subj_female %>% filter(expt == "v3", age_fct == "3")
subj_f_v3_4y <- subj_female %>% filter(expt == "v3", age_fct == "4")
subj_f_v3_3y <- subj_female %>% filter(expt == "v3", age_fct == "3")
subj_f_v3_4y <- subj_female %>% filter(expt == "v3", age_fct == "4")
subj_f_v3_online_2y <- subj_female %>% filter(expt == "v3_lookit", age_fct == "2")
subj_f_v3_online_3y <- subj_female %>% filter(expt == "v3_lookit", age_fct == "3")
subj_f_v3_online_4y <- subj_female %>% filter(expt == "v3_lookit", age_fct == "4")

# age
age_v1_3y <- ms_age %>% filter(expt == "v1", age_fct == "3")
age_v1_4y <- ms_age %>% filter(expt == "v1", age_fct == "4")
age_v2_3y <- ms_age %>% filter(expt == "v2", age_fct == "3")
age_v2_4y <- ms_age %>% filter(expt == "v2", age_fct == "4")
age_v3_3y <- ms_age %>% filter(expt == "v3", age_fct == "3")
age_v3_4y <- ms_age %>% filter(expt == "v3", age_fct == "4")
age_v3_3y <- ms_age %>% filter(expt == "v3", age_fct == "3")
age_v3_4y <- ms_age %>% filter(expt == "v3", age_fct == "4")
age_v3_online_2y <- ms_age %>% filter(expt == "v3_lookit", age_fct == "2")
age_v3_online_3y <- ms_age %>% filter(expt == "v3_lookit", age_fct == "3")
age_v3_online_4y <- ms_age %>% filter(expt == "v3_lookit", age_fct == "4")

```

3-year-old  ($n=$ `r subj_v1_3y$n`; `r subj_f_v1_3y$n` F, $M_{age}$ = `r age_v1_3y$m` years, $SD_{age}$ = `r age_v1_3y$sd_age`) and 4-year-old children ($n=$ `r subj_v1_4y$n`; `r subj_f_v1_4y$n` F, $M_{age}$ = `r age_v1_4y$m` years, $SD_{age}$ = `r age_v1_4y$sd_age`) were recruited from a local preschool. 
An additional 3 children were tested but excluded due to failure on the practice questions ($n=$ 2) or completion of fewer than half of the test trials ($n=$ `r subj_v1_too_few_trials_count$n`).

### Stimuli



### Procedure

The experimenter presented to the child a storybook with a total of thirteen stories about different characters. In the *practice* phase, the child heard a story with one clearly mean character (*Drew kicked Carol*) and one clearly nice character (*Graham gave Carol a gift*). After a reminder of what each character did, the experimenter asked the participant: *Which one was being meaner?* and *Which one was being nicer?* If the child answered the question wrong the first time, the experimenter read the story one more time, saying, "Let's think about the story one more time." Only children who correctly answered both questions in the first or second attempt were included in the analyses.

In the *test* phase, the child heard twelve stories, in each of which they saw one speaker who decided to speak politely (*Jean wanted more water in her cup. Jean said to Fred, "Please pour me more water"*) and another speaker who spoke impolitely (*Suzy also wanted more water in her cup. Suzy said to Fred, "Pour me more water."*). After a reminder about what each speaker said, the child was asked a total of two questions. For the first question, the experimenter asked one out of four possible questions: "Which one was being more polite [more rude/nicer/meaner]?" For the second question, the experimenter either asked about play partner choice ("Which one would you rather play with?") or likelihood of compliance (e.g., "Which one will Fred give water to?"). The order of story types and question types was counterbalanced.

## Results and Discussion

```{r v1_results}
# brm_v1 <- d %>% 
#   filter(expt == "v1") %>%
#   filter(question_type %in% c( "polite", "rude", "nice", "mean")) %>%
#   mutate(age = scale(age)) %>%
#   mutate(question_type = fct_relevel(question_type, "rude")) %>%
#   mutate(request_type = fct_relevel(request_type, "can you~", "please")) %>%
#   brm(data=., correct ~ age * question_type * request_type + (age | item) + (request_type + question_type | subid),
#       family="bernoulli", iter=3000, control = list(adapt_delta = 0.99, max_treedepth = 15))
# 
# save(brm_v1, file=here::here("03_analysis/data/brm_v1.Rds"))
# 

d_v1 <- d %>%
  filter(expt == "v1") %>%
  filter(question_type %in% c( "polite", "rude", "nice", "mean")) %>%
  mutate(age = scale(age)) %>%
  mutate(question_type = fct_relevel(question_type, "rude")) %>%
  mutate(request_type = fct_relevel(request_type, "can you~", "please")) 

d_v3_lookit <- d %>%
  filter(expt == "v3_lookit") %>%
  filter(question_type %in% c( "polite", "rude", "nice", "mean")) %>%
  mutate(age = scale(age)) %>%
  mutate(question_type = fct_relevel(question_type, "rude")) %>%
  mutate(request_type = fct_relevel(request_type, "can you~", "please")) 

# lmer_v1 <- glm(data=d_v1, correct ~ age * question_type * request_type,
#       family="binomial")

# brm_v1_test <- brm(data=d_v1, family="bernoulli", correct ~ age * question_type * request_type + (age | item) + (request_type + question_type | subid))

# brm_v3_test <- brm(data=d_v3_lookit, family="bernoulli", correct ~ age  + (age | item))
# 
# 
# brm_all_test <- brm(data=d, family="bernoulli", correct ~ age  + (age | item) + (1 | subid))

# glmer_all <- glmer(data=d %>%
#                      mutate(question_type = fct_relevel(question_type, "rude"),
#                             request_type = fct_relevel(request_type, "can you~")), family = "binomial", correct ~ expt + scale(age) + question_type + request_type + (1|item))
# 
brm_all <- brm(data=d %>%
                     mutate(question_type = fct_relevel(question_type, "rude"),
                            request_type = fct_relevel(request_type, "can you~")),
               correct ~ expt + scale(age) + question_type + request_type + 
                 (expt + scale(age)|item) + (question_type + request_type | subid),
       family="bernoulli", iter=3000, control = list(adapt_delta = 0.99, max_treedepth = 15))

```

In this Experiment we wanted to make sure that 

# Experiment 2

## Methods

### Participants

### Stimuli

### Procedure

## Results and Discussion

# Experiment 3

## Methods

### Participants

### Stimuli

### Procedure

## Results and Discussion

# General Discussion

# References 

```{r references}
# References will be generated automatically by Pandoc and included here.
# The following code is some latex to format the bibliography. Do not remove it.
```

\setlength{\parindent}{-0.1in} 
\setlength{\leftskip}{0.125in}
\noindent
